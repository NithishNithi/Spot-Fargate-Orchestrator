# CLUSTER MODE - Manage deployments across all namespaces
# Use this for platform-level orchestration
# Deployments opt-in via annotation: spot-orchestrator/enabled: "true"
# Requires cluster-wide RBAC permissions

[kubernetes]
mode = "cluster"
opt_in_annotation = "spot-orchestrator/enabled"
service_label_selector = "app"
# namespace is ignored in cluster mode

[monitoring]
check_interval = "5s"
health_check_retries = 3
health_check_interval = "2s"

[migration]
rollout_timeout = "120s"
verification_delay = "5s"

[recovery]
enabled = true
interval = "5m"
cooldown = "45m"
timeout = "3m"
backoff_base = "15m"
max_backoff = "4h"

[compute]
spot_label = "spot"
fargate_label = "fargate"
compute_label_key = "compute-type"

[aws]
region = "us-east-2"
sqs_queue_url = "https://sqs.us-east-2.amazonaws.com/061039800280/spot-interruption-queue"

[alerts]
enabled = true
slack_webhook_url = "https://hooks.slack.com/services/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"

[logging]
level = "info"
format = "auto"